# execution: dispatcher radio

> phase-by-phase implementation progress

---

## phase 0: domain objects ✅

- [x] `src/domain.objects/RadioTaskStatus.ts` — enum with QUEUED, CLAIMED, DELIVERED
- [x] `src/domain.objects/RadioChannel.ts` — enum with GH_ISSUES, OS_FILEOPS
- [x] `src/domain.objects/IdempotencyMode.ts` — enum with FINDSERT, UPSERT
- [x] `src/domain.objects/RadioTaskRepo.ts` — literal with owner, name
- [x] `src/domain.objects/RadioTask.ts` — entity with primary=['exid'], unique=['repo','title']
- [x] verify: `npm run test:types` — passed

---

## phase 1: format utilities ✅

- [x] `src/domain.operations/radio/task/format/composeTaskIntoGhIssues.ts`
- [x] `src/domain.operations/radio/task/format/composeTaskIntoGhIssues.test.ts`
- [x] `src/domain.operations/radio/task/format/extractTaskFromGhIssues.ts`
- [x] `src/domain.operations/radio/task/format/extractTaskFromGhIssues.test.ts`
- [x] `src/domain.operations/radio/task/format/composeTaskIntoOsFileops.ts`
- [x] `src/domain.operations/radio/task/format/composeTaskIntoOsFileops.test.ts`
- [x] `src/domain.operations/radio/task/format/extractTaskFromOsFileops.ts`
- [x] `src/domain.operations/radio/task/format/extractTaskFromOsFileops.test.ts`
- [x] verify: `npm run test:unit -- radio/task/format` — 49 tests passed

---

## phase 2: dao adapters ✅

- [x] `src/access/daos/daoRadioTask/index.ts` — interface + adapter selector
- [x] `src/access/daos/daoRadioTask/daoRadioTaskViaGhIssues.ts`
- [x] `src/access/daos/daoRadioTask/daoRadioTaskViaGhIssues.integration.test.ts`
- [x] `src/access/daos/daoRadioTask/daoRadioTaskViaOsFileops.ts`
- [x] `src/access/daos/daoRadioTask/daoRadioTaskViaOsFileops.integration.test.ts`
- [x] verify: `npm run test:integration -- daoRadioTaskViaOsFileops` — 18 tests passed
- [ ] verify: gh.issues tests require auth, deferred to phase 6 acceptance

---

## phase 3: utilities ✅

### 3a: git context (infra)

- [x] `src/infra/git/getRepoFromGitContext.ts`
- [x] `src/infra/git/getRepoFromGitContext.test.ts`
- [x] `src/infra/git/getCurrentBranch.ts`
- [x] `src/infra/git/getCurrentBranch.test.ts`
- [x] `src/infra/git/getCurrentActor.ts`
- [x] `src/infra/git/getCurrentActor.test.ts`
- [x] verify: `npm run test:unit -- infra/git` — 3 tests passed

### 3b: radio bootstrap (domain.operations)

- [x] `src/domain.operations/radio/bootstrap/getRadioPath.ts`
- [x] `src/domain.operations/radio/bootstrap/getRadioPath.test.ts`
- [x] `src/domain.operations/radio/bootstrap/bootstrapRadioDir.ts`
- [x] `src/domain.operations/radio/bootstrap/bootstrapRadioDir.integration.test.ts`
- [x] verify: `npm run test:unit -- radio/bootstrap` — 9 tests passed
- [x] verify: `npm run test:integration -- bootstrapRadioDir` — 10 tests passed

---

## phase 4: skill operations ✅

### 4a: push operations

- [x] `src/domain.operations/radio/task/push/setFullRadioTask.ts`
- [ ] `src/domain.operations/radio/task/push/setFullRadioTask.via-gh-issues.integration.test.ts` — deferred to phase 6
- [x] `src/domain.operations/radio/task/push/setFullRadioTask.via-os-fileops.integration.test.ts`
- [x] `src/domain.operations/radio/task/push/setPartRadioTask.ts`
- [ ] `src/domain.operations/radio/task/push/setPartRadioTask.via-gh-issues.integration.test.ts` — deferred to phase 6
- [x] `src/domain.operations/radio/task/push/setPartRadioTask.via-os-fileops.integration.test.ts`
- [x] `src/domain.operations/radio/task/push/radioTaskPush.ts`
- [ ] `src/domain.operations/radio/task/push/radioTaskPush.via-gh-issues.integration.test.ts` — deferred to phase 6
- [x] `src/domain.operations/radio/task/push/radioTaskPush.via-os-fileops.integration.test.ts`
- [x] verify: `npm run test:integration -- radio/task/push` — 29 tests passed

### 4b: pull operations

- [x] `src/domain.operations/radio/task/pull/radioTaskPull.ts`
- [ ] `src/domain.operations/radio/task/pull/radioTaskPull.via-gh-issues.integration.test.ts` — deferred to phase 6
- [x] `src/domain.operations/radio/task/pull/radioTaskPull.via-os-fileops.integration.test.ts`
- [x] verify: `npm run test:integration -- radio/task/pull` — 10 tests passed

---

## phase 5: cli entry points ✅

- [x] `src/contract/cli/radioTaskPush.ts`
- [x] `src/contract/cli/radioTaskPull.ts`
- [x] `src/domain.roles/dispatcher/skills/radio.task.push.sh`
- [x] `src/domain.roles/dispatcher/skills/radio.task.pull.sh`
- [x] `src/index.ts` — add cli exports
- [x] verify: `npm run build` — passed
- [x] verify: `npm run test:types` — passed
- [x] verify: `npm run test:integration -- radio/task` — 39 tests passed

---

## phase 6: acceptance tests

- [ ] `blackbox/role=dispatcher/skill.radio.task.push.via-gh-issues.acceptance.test.ts`
- [ ] `blackbox/role=dispatcher/skill.radio.task.push.via-os-fileops.acceptance.test.ts`
- [ ] `blackbox/role=dispatcher/skill.radio.task.pull.via-gh-issues.acceptance.test.ts`
- [ ] `blackbox/role=dispatcher/skill.radio.task.pull.via-os-fileops.acceptance.test.ts`
- [ ] verify: `npm run test:acceptance -- role=dispatcher`

---

## notes

- [x] execution file created: 2026-02-02
