# feedback response: domain distillation v1 - iteration 3

## response checklist

- [x] blocker.1: probabilistic yield model (yieldageDistribution)
  - [x] add yieldageDistribution as { yieldage, probability }[] to BehaviorMeasured
  - [x] capture failure probability as { yieldage: 0, probability: P }
  - [x] compute yieldageExpected as weighted sum
  - [x] ensure deterministic yield is degenerate case

- [x] blocker.2: cache/idempotency criteria per skill
  - [x] verify each skill has cache/idempotency usecase in criteria
  - [x] deptrace only tracks dependsOn* (not dependedBy*)
  - [x] contentHash computed at gather time, reused downstream

- [x] blocker.3: contentHash computed at gather time
  - [x] contentHash in .gathered.json, not recomputed downstream
  - [x] downstream skills read contentHash from gathered output

- [x] criteria update: dependencies.md generated by deptrace skill
  - [x] add saveDeptracedBehaviors to produce dependencies.md
  - [x] update deptrace skill entry point output contract

- [x] criteria update: readme.md generated by findsertDispatchDir
  - [x] add findsertDispatchDir operation
  - [x] readme.md created on first skill invocation, idempotent thereafter

- [x] criteria update: interactive mode out of scope
  - [x] note interactive mode is explicitly out of scope
  - [x] users can manually edit output files for overrides

- [x] criteria update: BehaviorMeasured dimensions/decision structure
  - [x] dimensions = { gain: { yieldage, leverage }, cost }
  - [x] decision = dimensions.gain.yieldage / dimensions.cost
  - [x] priority assigned based on dimensions

- [x] criteria update: BehaviorTriaged dimensions/decision structure
  - [x] dimensions = { readiness, bandwidth }
  - [x] decision = min(readiness, bandwidth)
  - [x] triage is fully deterministic (no brain.repl)

- [x] criteria update: remove dependedBy* from BehaviorDeptraced
  - [x] deptrace only produces dependsOnDirect and dependsOnTransitive
  - [x] blockee computation happens in measure skill via graph inversion

---

## response checkoffs

all checklist items completed. blueprint updated at:
- `3.2.distill.domain._.v1.i1.md`

key changes made:

1. **BehaviorDeptraced**: removed dependedByDirect and dependedByTransitive; now only tracks dependsOn*
2. **BehaviorMeasuredYieldage**: added distribution array with { yieldage, probability }[] and expected value
3. **BehaviorMeasured**: restructured to dimensions = { gain: { yieldage, leverage }, cost } with decision and priority
4. **BehaviorTriaged**: restructured to dimensions = { readiness, bandwidth } with decision = min(readiness, bandwidth)
5. **deptrace skill**: added renderDependenciesMd.ts and dependencies.md output
6. **findsertDispatchDir**: added operation for idempotent output directory initialization
7. **measure skill**: added computeReverseDeps.ts for graph inversion
8. **design decisions**: added sections 7.10-7.15 documenting all changes

all skill entry points now note findsertDispatchDir is called before writing output.
