# leverage evaluation: declapract

**source:** https://github.com/ehmpathy/declapract


---


## 1. tool description

declapract is a CLI tool for declaratively defining and enforcing software best practices:
- define practices via file examples (best and bad patterns)
- check compliance with `declapract plan`
- auto-fix violations with `declapract apply`
- scales across multiple projects
- integrates with CI/CD pipelines


---


## 2. leverage narrative

### 2.1. what problem does it solve?

maintaining best practices across codebases is:
- **tribal**: knowledge siloed in senior devs' heads
- **inconsistent**: different practices across projects/teams
- **slow to propagate**: updating practices requires manual work per repo
- **untracked**: no visibility into technical debt or compliance

### 2.2. how does it create leverage?

declapract moves practices from **adhoc enforcement** to **declarative automation**:

```
wout declapract:
  per repo: manually check + update practices
  per practice update: touch N repos manually
  compliance: unknown until someone reviews

with declapract:
  per repo: `declapract plan` (seconds)
  per practice update: update declarations, `declapract apply` across all repos
  compliance: instant visibility
```

**leverage ratio:** N× reduction where N = number of repos

### 2.3. where does leverage compound?

1. **authorable → supportable**: consistent practices make debugging easier
2. **adoptable → authorable**: new projects inherit all best practices instantly
3. **evolvable → maintainable**: practice updates propagate automatically


---


## 3. leverage measurements

### 3.1. leverage.authorable

| subdimension | score | rationale |
|--------------|-------|-----------|
| **simpler** | 8/10 | inherit all practices via one config file |
| **faster** | 9/10 | new projects get best practices instantly |
| **safer** | 9/10 | CI blocks violations before they merge |

**composite:** 8.7/10

**narrative:** "new projects inherit all organizational best practices with one config file. violations are blocked in CI before merge."


### 3.2. leverage.supportable

| subdimension | score | rationale |
|--------------|-------|-----------|
| **observable** | 8/10 | `declapract plan` shows exactly what's wrong |
| **intuitive** | 7/10 | practice definitions require learning curve |
| **resilient** | 7/10 | practices prevent issues; but no runtime guarantees |
| **maintainable** | 9/10 | practices documented with rationale; easy to update |

**composite:** 7.8/10

**narrative:** "when something goes wrong, consistent practices make the codebase predictable. practice definitions document WHY patterns are best/bad."


### 3.3. leverage.adoptable

| subdimension | score | rationale |
|--------------|-------|-----------|
| **reusable** | 10/10 | same declarations across any number of repos |
| **pitofsuccess** | 8/10 | CI enforcement prevents violations; but devs can disable |
| **documented** | 9/10 | practices are self-documenting by design |
| **evolvable** | 10/10 | update declarations, apply across all repos |

**composite:** 9.3/10

**narrative:** "share declarations across unlimited repos. update once, propagate everywhere. practices are documentation."


---


## 4. gain analysis

### 4.1. absolute gain per use

| metric | wout declapract | with declapract | gain |
|--------|-----------------|-----------------|------|
| time to check compliance | 30-60 min (manual) | 10 sec | 180-360x |
| time to update practice | N repos × 30 min | 1 declaration + 1 command | N × 30x |
| compliance visibility | unknown | instant | ∞ |
| new project setup | copy/paste + manual | inherit config | 10-50x |

**absolute gain per use:** ~100x for compliance checks, N×30x for practice updates


### 4.2. relative frequency (how often we gain)

| scenario | frequency | notes |
|----------|-----------|-------|
| new project setup | medium | every new service |
| practice compliance check | high (every PR) | CI integration |
| practice update propagation | low (quarterly) | but high impact |
| technical debt audit | medium | periodic reviews |

**coverage:** every project benefits; every PR benefits via CI


### 4.3. compound leverage

```
total_leverage = absolute_gain × frequency × compound_factor × repo_multiplier

where:
  absolute_gain = 100x (compliance check)
  frequency = 0.8 (80% of PRs have practice implications)
  compound_factor = 1.5 (supportable + adoptable benefits)
  repo_multiplier = N (number of repos using same declarations)

for 10 repos:
total_leverage = 100 × 0.8 × 1.5 × 10 = 1200x effective leverage
```


---


## 5. dimension summary

| dimension | score | key insight |
|-----------|-------|-------------|
| leverage.authorable | 8.7/10 | inherit practices instantly; CI blocks violations |
| leverage.supportable | 7.8/10 | consistent patterns; self-documenting practices |
| leverage.adoptable | 9.3/10 | unlimited repos; update once, apply everywhere |

**overall leverage grade:** A (8.6/10)

**one-sentence summary:** declapract provides ~1200x effective leverage (for 10 repos) by automating practice enforcement and propagation across unlimited codebases.

